"<?xml version=\"1.0\" encoding=\"UTF-8\"?> <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n <html lang=\"en\" xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\">\n  <head>\n   <meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\"/>\n   <meta content=\"text/javascript\" http-equiv=\"Content-Script-Type\"/>\n   <meta content=\"text/css\" http-equiv=\"Content-Style-Type\"/>\n   <meta content=\"en-US\" http-equiv=\"Content-Language\"/>\n   <meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\"/>\n   <meta content=\"en-US\" http-equiv=\"Content-Language\"/>\n\n#{      v = ctx[:meta_cache?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<meta content=\"Thu, 12 Mar 2004 12:34:12 GMT\" http-equiv=\"expires\"/>\n   <meta content=\"no-cache\" http-equiv=\"pragma\"/>\n\n"
      end
}#{      if v = ctx[:meta_menu]
        if v == true
          "<meta content=\"#{CGI.escapeHTML(ctx[:content].to_s)}\" name=\"#{CGI.escapeHTML(ctx[:name].to_s)}\"/>\n\n"
        elsif v.is_a?(Proc)
          v.call("<meta content=\"#{CGI.escapeHTML(ctx[:content].to_s)}\" name=\"#{CGI.escapeHTML(ctx[:name].to_s)}\"/>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<meta content=\"#{CGI.escapeHTML(ctx[:content].to_s)}\" name=\"#{CGI.escapeHTML(ctx[:name].to_s)}\"/>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:page]
        if v == true
          "<title>#{CGI.escapeHTML(ctx[:title].to_s)}</title>\n\n"
        elsif v.is_a?(Proc)
          v.call("<title>#{CGI.escapeHTML(ctx[:title].to_s)}</title>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<title>#{CGI.escapeHTML(ctx[:title].to_s)}</title>\n\n"; ctx.pop; r }.join
        end
      end
}<link type=\"image/x-icon\" rel=\"shortcut icon\" href=\"/favicon.ico\"/>\n\n#{      if v = ctx[:not_mobile_request?]
        if v == true
          "<link media=\"screen\" type=\"text/css\" rel=\"stylesheet\" href=\"#{CGI.escapeHTML(ctx[:css_file].to_s)}?time=1282199168\"/>\n\n"
        elsif v.is_a?(Proc)
          v.call("<link media=\"screen\" type=\"text/css\" rel=\"stylesheet\" href=\"#{CGI.escapeHTML(ctx[:css_file].to_s)}?time=1282199168\"/>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<link media=\"screen\" type=\"text/css\" rel=\"stylesheet\" href=\"#{CGI.escapeHTML(ctx[:css_file].to_s)}?time=1282199168\"/>\n\n"; ctx.pop; r }.join
        end
      end
}#{CGI.escapeHTML(ctx[:head_content].to_s)}\n\n  </head>\n  <body id=\"the_body\">\n\n#{      if v = ctx[:flash_msg?]
        if v == true
          "<div id=\"flash_msg\">\n\n#{      if v = ctx[:flash_success]
        if v == true
          "<div class=\"success\">\n      <h4>Success</h4>\n      <div class=\"msg\">#{CGI.escapeHTML(ctx[:msg].to_s)}</div>\n     </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"success\">\n      <h4>Success</h4>\n      <div class=\"msg\">#{CGI.escapeHTML(ctx[:msg].to_s)}</div>\n     </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"success\">\n      <h4>Success</h4>\n      <div class=\"msg\">#{CGI.escapeHTML(ctx[:msg].to_s)}</div>\n     </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:flash_errors]
        if v == true
          "<div class=\"errors\">\n      <h4>#{CGI.escapeHTML(ctx[:title].to_s)}</h4>\n      <div class=\"msg\">\n       <ul>\n\n#{      if v = ctx[:errors]
        if v == true
          "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n      </div>\n     </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"errors\">\n      <h4>#{CGI.escapeHTML(ctx[:title].to_s)}</h4>\n      <div class=\"msg\">\n       <ul>\n\n#{      if v = ctx[:errors]
        if v == true
          "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n      </div>\n     </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"errors\">\n      <h4>#{CGI.escapeHTML(ctx[:title].to_s)}</h4>\n      <div class=\"msg\">\n       <ul>\n\n#{      if v = ctx[:errors]
        if v == true
          "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n      </div>\n     </div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div id=\"flash_msg\">\n\n#{      if v = ctx[:flash_success]
        if v == true
          "<div class=\"success\">\n      <h4>Success</h4>\n      <div class=\"msg\">#{CGI.escapeHTML(ctx[:msg].to_s)}</div>\n     </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"success\">\n      <h4>Success</h4>\n      <div class=\"msg\">#{CGI.escapeHTML(ctx[:msg].to_s)}</div>\n     </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"success\">\n      <h4>Success</h4>\n      <div class=\"msg\">#{CGI.escapeHTML(ctx[:msg].to_s)}</div>\n     </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:flash_errors]
        if v == true
          "<div class=\"errors\">\n      <h4>#{CGI.escapeHTML(ctx[:title].to_s)}</h4>\n      <div class=\"msg\">\n       <ul>\n\n#{      if v = ctx[:errors]
        if v == true
          "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n      </div>\n     </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"errors\">\n      <h4>#{CGI.escapeHTML(ctx[:title].to_s)}</h4>\n      <div class=\"msg\">\n       <ul>\n\n#{      if v = ctx[:errors]
        if v == true
          "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n      </div>\n     </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"errors\">\n      <h4>#{CGI.escapeHTML(ctx[:title].to_s)}</h4>\n      <div class=\"msg\">\n       <ul>\n\n#{      if v = ctx[:errors]
        if v == true
          "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n      </div>\n     </div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div id=\"flash_msg\">\n\n#{      if v = ctx[:flash_success]
        if v == true
          "<div class=\"success\">\n      <h4>Success</h4>\n      <div class=\"msg\">#{CGI.escapeHTML(ctx[:msg].to_s)}</div>\n     </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"success\">\n      <h4>Success</h4>\n      <div class=\"msg\">#{CGI.escapeHTML(ctx[:msg].to_s)}</div>\n     </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"success\">\n      <h4>Success</h4>\n      <div class=\"msg\">#{CGI.escapeHTML(ctx[:msg].to_s)}</div>\n     </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:flash_errors]
        if v == true
          "<div class=\"errors\">\n      <h4>#{CGI.escapeHTML(ctx[:title].to_s)}</h4>\n      <div class=\"msg\">\n       <ul>\n\n#{      if v = ctx[:errors]
        if v == true
          "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n      </div>\n     </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"errors\">\n      <h4>#{CGI.escapeHTML(ctx[:title].to_s)}</h4>\n      <div class=\"msg\">\n       <ul>\n\n#{      if v = ctx[:errors]
        if v == true
          "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n      </div>\n     </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"errors\">\n      <h4>#{CGI.escapeHTML(ctx[:title].to_s)}</h4>\n      <div class=\"msg\">\n       <ul>\n\n#{      if v = ctx[:errors]
        if v == true
          "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n      </div>\n     </div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}<div id=\"the_content\">\n\n#{      if v = ctx[:show_moving_message?]
        if v == true
          "<div id=\"notice\">\n      <span>I'm moving content from my old site, </span>\n      <a href=\"http://www.surferhearts.com/\">SurferHearts.com</a>\n      <span>, over to this new site.</span>\n     </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div id=\"notice\">\n      <span>I'm moving content from my old site, </span>\n      <a href=\"http://www.surferhearts.com/\">SurferHearts.com</a>\n      <span>, over to this new site.</span>\n     </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div id=\"notice\">\n      <span>I'm moving content from my old site, </span>\n      <a href=\"http://www.surferhearts.com/\">SurferHearts.com</a>\n      <span>, over to this new site.</span>\n     </div>\n\n"; ctx.pop; r }.join
        end
      end
}<h3 id=\"club_title\">#{CGI.escapeHTML(ctx[:club_title].to_s)}</h3>\n      <ul class=\"nav_bar\" id=\"club_nav_bar\">\n       <li>\n        <a href=\"#{CGI.escapeHTML(ctx[:club_href].to_s)}\">Home</a>\n       </li>\n       <li>\n        <a href=\"#{CGI.escapeHTML(ctx[:club_href].to_s)}e/\">Encyclopedia</a>\n       </li>\n       <li>\n        <a href=\"#{CGI.escapeHTML(ctx[:club_href].to_s)}news/\">News</a>\n       </li>\n       <li>\n        <a href=\"#{CGI.escapeHTML(ctx[:club_href].to_s)}magazine/\">Magazine</a>\n       </li>\n       <li>\n        <a href=\"#{CGI.escapeHTML(ctx[:club_href].to_s)}fights/\">Fights</a>\n       </li>\n       <li>\n        <a href=\"#{CGI.escapeHTML(ctx[:club_href].to_s)}qa/\">Q &amp; A</a>\n       </li>\n       <li>\n        <a href=\"#{CGI.escapeHTML(ctx[:club_href].to_s)}shop/\">Shop</a>\n       </li>\n       <li>\n        <a href=\"#{CGI.escapeHTML(ctx[:club_href].to_s)}predictions/\">Predictions</a>\n       </li>\n       <li>\n        <a href=\"#{CGI.escapeHTML(ctx[:club_href].to_s)}random/\">Random</a>\n       </li>\n       <li>\n        <a href=\"#{CGI.escapeHTML(ctx[:club_href].to_s)}thanks/\">Thanks</a>\n       </li>\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<li>\n        <a href=\"/log-out/\">Log-out</a>\n       </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>\n        <a href=\"/log-out/\">Log-out</a>\n       </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>\n        <a href=\"/log-out/\">Log-out</a>\n       </li>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<li>\n        <a href=\"/log-in/\">Log-in</a>\n       </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>\n        <a href=\"/log-in/\">Log-in</a>\n       </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>\n        <a href=\"/log-in/\">Log-in</a>\n       </li>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:logged_in?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<li>\n        <a href=\"/\">Megauni</a>\n       </li>\n\n"
      end
}#{      if v = ctx[:logged_in?]
        if v == true
          "<li>\n        <a href=\"/lifes/\">My Lifes</a>\n       </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>\n        <a href=\"/lifes/\">My Lifes</a>\n       </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>\n        <a href=\"/lifes/\">My Lifes</a>\n       </li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n     <h3 class=\"message_title\">#{CGI.escapeHTML(ctx[:title].to_s)}</h3>\n     <div id=\"outer_shell\">\n      <div id=\"inner_shell\">\n       <div class=\"centered\">\n        <div id=\"message\">\n\n#{      if v = ctx[:data]
        if v == true
          "<div class=\"body\">\n#{ctx[:compiled_body]}         </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"body\">\n#{ctx[:compiled_body]}         </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"body\">\n#{ctx[:compiled_body]}         </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:logged_in?]
        if v == true
          "<div id=\"notify_me\">\n\n#{      v = ctx[:notify_me?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<form class=\"hidden\" action=\"#{CGI.escapeHTML(ctx[:href_notify].to_s)}\" method=\"post\" name=\"post_to_username_notify\" id=\"post_to_username_notify\">\n\n#{      if v = ctx[:notify_menu]
        if v == true
          "<div class=\"radio\">\n            <input type=\"radio\" value=\"#{CGI.escapeHTML(ctx[:username_id].to_s)}\" name=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\" id=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\"/>\n            <label for=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</label>\n           </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"radio\">\n            <input type=\"radio\" value=\"#{CGI.escapeHTML(ctx[:username_id].to_s)}\" name=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\" id=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\"/>\n            <label for=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</label>\n           </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"radio\">\n            <input type=\"radio\" value=\"#{CGI.escapeHTML(ctx[:username_id].to_s)}\" name=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\" id=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\"/>\n            <label for=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</label>\n           </div>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"buttons\">\n            <div class=\"buttons\">\n             <button class=\"create\">Notify me.</button>\n            </div>\n           </div>\n          </form>\n          <div>\n            <a onclick=\"$('#post_to_username_notify').removeClass('hidden'); $(this).parent('div').remove(); return false;\" href=\"#show-post_to_username_notify\">Notify me </a>\n            <span> of activity for this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}.</span>\n          </div>\n\n"
      end
}#{      if v = ctx[:notify_me?]
        if v == true
          "<form class=\"\" action=\"#{CGI.escapeHTML(ctx[:href_notify].to_s)}\" method=\"post\" name=\"delete_form_notify\" id=\"delete_form_notify\">\n            <fieldset class=\"hidden\">\n              <input type=\"hidden\" value=\"delete\" name=\"_method\"/>\n            </fieldset>\n           <a onclick=\"$('#delete_form_notify').removeClass('hidden'); $(this).parent('div').remove(); return false;\" href=\"#show-delete_form_notify\">Stop</a>\n           <span> notifying me.</span>\n          </form>\n\n"
        elsif v.is_a?(Proc)
          v.call("<form class=\"\" action=\"#{CGI.escapeHTML(ctx[:href_notify].to_s)}\" method=\"post\" name=\"delete_form_notify\" id=\"delete_form_notify\">\n            <fieldset class=\"hidden\">\n              <input type=\"hidden\" value=\"delete\" name=\"_method\"/>\n            </fieldset>\n           <a onclick=\"$('#delete_form_notify').removeClass('hidden'); $(this).parent('div').remove(); return false;\" href=\"#show-delete_form_notify\">Stop</a>\n           <span> notifying me.</span>\n          </form>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<form class=\"\" action=\"#{CGI.escapeHTML(ctx[:href_notify].to_s)}\" method=\"post\" name=\"delete_form_notify\" id=\"delete_form_notify\">\n            <fieldset class=\"hidden\">\n              <input type=\"hidden\" value=\"delete\" name=\"_method\"/>\n            </fieldset>\n           <a onclick=\"$('#delete_form_notify').removeClass('hidden'); $(this).parent('div').remove(); return false;\" href=\"#show-delete_form_notify\">Stop</a>\n           <span> notifying me.</span>\n          </form>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      v = ctx[:reposts?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div id=\"repost\">\n          <form class=\"hidden\" action=\"#{CGI.escapeHTML(ctx[:href_repost].to_s)}\" method=\"post\" name=\"post_to_universes_repost\" id=\"post_to_universes_repost\">\n\n#{      if v = ctx[:repost_menu]
        if v == true
          "<h4>#{CGI.escapeHTML(ctx[:username].to_s)}</h4>\n\n#{      if v = ctx[:clubs]
        if v == true
          "#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("<h4>#{CGI.escapeHTML(ctx[:username].to_s)}</h4>\n\n#{      if v = ctx[:clubs]
        if v == true
          "#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<h4>#{CGI.escapeHTML(ctx[:username].to_s)}</h4>\n\n#{      if v = ctx[:clubs]
        if v == true
          "#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}<div class=\"buttons\">\n            <div class=\"buttons\">\n             <button class=\"create\">Re-post.</button>\n            </div>\n           </div>\n          </form>\n          <div>\n            <a onclick=\"$('#post_to_universes_repost').removeClass('hidden'); $(this).parent('div').remove(); return false;\" href=\"#show-post_to_universes_repost\">Re-post.</a>\n          </div>\n         </div>\n\n"
      end
}"
        elsif v.is_a?(Proc)
          v.call("<div id=\"notify_me\">\n\n#{      v = ctx[:notify_me?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<form class=\"hidden\" action=\"#{CGI.escapeHTML(ctx[:href_notify].to_s)}\" method=\"post\" name=\"post_to_username_notify\" id=\"post_to_username_notify\">\n\n#{      if v = ctx[:notify_menu]
        if v == true
          "<div class=\"radio\">\n            <input type=\"radio\" value=\"#{CGI.escapeHTML(ctx[:username_id].to_s)}\" name=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\" id=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\"/>\n            <label for=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</label>\n           </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"radio\">\n            <input type=\"radio\" value=\"#{CGI.escapeHTML(ctx[:username_id].to_s)}\" name=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\" id=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\"/>\n            <label for=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</label>\n           </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"radio\">\n            <input type=\"radio\" value=\"#{CGI.escapeHTML(ctx[:username_id].to_s)}\" name=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\" id=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\"/>\n            <label for=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</label>\n           </div>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"buttons\">\n            <div class=\"buttons\">\n             <button class=\"create\">Notify me.</button>\n            </div>\n           </div>\n          </form>\n          <div>\n            <a onclick=\"$('#post_to_username_notify').removeClass('hidden'); $(this).parent('div').remove(); return false;\" href=\"#show-post_to_username_notify\">Notify me </a>\n            <span> of activity for this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}.</span>\n          </div>\n\n"
      end
}#{      if v = ctx[:notify_me?]
        if v == true
          "<form class=\"\" action=\"#{CGI.escapeHTML(ctx[:href_notify].to_s)}\" method=\"post\" name=\"delete_form_notify\" id=\"delete_form_notify\">\n            <fieldset class=\"hidden\">\n              <input type=\"hidden\" value=\"delete\" name=\"_method\"/>\n            </fieldset>\n           <a onclick=\"$('#delete_form_notify').removeClass('hidden'); $(this).parent('div').remove(); return false;\" href=\"#show-delete_form_notify\">Stop</a>\n           <span> notifying me.</span>\n          </form>\n\n"
        elsif v.is_a?(Proc)
          v.call("<form class=\"\" action=\"#{CGI.escapeHTML(ctx[:href_notify].to_s)}\" method=\"post\" name=\"delete_form_notify\" id=\"delete_form_notify\">\n            <fieldset class=\"hidden\">\n              <input type=\"hidden\" value=\"delete\" name=\"_method\"/>\n            </fieldset>\n           <a onclick=\"$('#delete_form_notify').removeClass('hidden'); $(this).parent('div').remove(); return false;\" href=\"#show-delete_form_notify\">Stop</a>\n           <span> notifying me.</span>\n          </form>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<form class=\"\" action=\"#{CGI.escapeHTML(ctx[:href_notify].to_s)}\" method=\"post\" name=\"delete_form_notify\" id=\"delete_form_notify\">\n            <fieldset class=\"hidden\">\n              <input type=\"hidden\" value=\"delete\" name=\"_method\"/>\n            </fieldset>\n           <a onclick=\"$('#delete_form_notify').removeClass('hidden'); $(this).parent('div').remove(); return false;\" href=\"#show-delete_form_notify\">Stop</a>\n           <span> notifying me.</span>\n          </form>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      v = ctx[:reposts?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div id=\"repost\">\n          <form class=\"hidden\" action=\"#{CGI.escapeHTML(ctx[:href_repost].to_s)}\" method=\"post\" name=\"post_to_universes_repost\" id=\"post_to_universes_repost\">\n\n#{      if v = ctx[:repost_menu]
        if v == true
          "<h4>#{CGI.escapeHTML(ctx[:username].to_s)}</h4>\n\n#{      if v = ctx[:clubs]
        if v == true
          "#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("<h4>#{CGI.escapeHTML(ctx[:username].to_s)}</h4>\n\n#{      if v = ctx[:clubs]
        if v == true
          "#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<h4>#{CGI.escapeHTML(ctx[:username].to_s)}</h4>\n\n#{      if v = ctx[:clubs]
        if v == true
          "#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}<div class=\"buttons\">\n            <div class=\"buttons\">\n             <button class=\"create\">Re-post.</button>\n            </div>\n           </div>\n          </form>\n          <div>\n            <a onclick=\"$('#post_to_universes_repost').removeClass('hidden'); $(this).parent('div').remove(); return false;\" href=\"#show-post_to_universes_repost\">Re-post.</a>\n          </div>\n         </div>\n\n"
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div id=\"notify_me\">\n\n#{      v = ctx[:notify_me?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<form class=\"hidden\" action=\"#{CGI.escapeHTML(ctx[:href_notify].to_s)}\" method=\"post\" name=\"post_to_username_notify\" id=\"post_to_username_notify\">\n\n#{      if v = ctx[:notify_menu]
        if v == true
          "<div class=\"radio\">\n            <input type=\"radio\" value=\"#{CGI.escapeHTML(ctx[:username_id].to_s)}\" name=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\" id=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\"/>\n            <label for=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</label>\n           </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"radio\">\n            <input type=\"radio\" value=\"#{CGI.escapeHTML(ctx[:username_id].to_s)}\" name=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\" id=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\"/>\n            <label for=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</label>\n           </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"radio\">\n            <input type=\"radio\" value=\"#{CGI.escapeHTML(ctx[:username_id].to_s)}\" name=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\" id=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\"/>\n            <label for=\"radio_295_#{CGI.escapeHTML(ctx[:username_id].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</label>\n           </div>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"buttons\">\n            <div class=\"buttons\">\n             <button class=\"create\">Notify me.</button>\n            </div>\n           </div>\n          </form>\n          <div>\n            <a onclick=\"$('#post_to_username_notify').removeClass('hidden'); $(this).parent('div').remove(); return false;\" href=\"#show-post_to_username_notify\">Notify me </a>\n            <span> of activity for this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}.</span>\n          </div>\n\n"
      end
}#{      if v = ctx[:notify_me?]
        if v == true
          "<form class=\"\" action=\"#{CGI.escapeHTML(ctx[:href_notify].to_s)}\" method=\"post\" name=\"delete_form_notify\" id=\"delete_form_notify\">\n            <fieldset class=\"hidden\">\n              <input type=\"hidden\" value=\"delete\" name=\"_method\"/>\n            </fieldset>\n           <a onclick=\"$('#delete_form_notify').removeClass('hidden'); $(this).parent('div').remove(); return false;\" href=\"#show-delete_form_notify\">Stop</a>\n           <span> notifying me.</span>\n          </form>\n\n"
        elsif v.is_a?(Proc)
          v.call("<form class=\"\" action=\"#{CGI.escapeHTML(ctx[:href_notify].to_s)}\" method=\"post\" name=\"delete_form_notify\" id=\"delete_form_notify\">\n            <fieldset class=\"hidden\">\n              <input type=\"hidden\" value=\"delete\" name=\"_method\"/>\n            </fieldset>\n           <a onclick=\"$('#delete_form_notify').removeClass('hidden'); $(this).parent('div').remove(); return false;\" href=\"#show-delete_form_notify\">Stop</a>\n           <span> notifying me.</span>\n          </form>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<form class=\"\" action=\"#{CGI.escapeHTML(ctx[:href_notify].to_s)}\" method=\"post\" name=\"delete_form_notify\" id=\"delete_form_notify\">\n            <fieldset class=\"hidden\">\n              <input type=\"hidden\" value=\"delete\" name=\"_method\"/>\n            </fieldset>\n           <a onclick=\"$('#delete_form_notify').removeClass('hidden'); $(this).parent('div').remove(); return false;\" href=\"#show-delete_form_notify\">Stop</a>\n           <span> notifying me.</span>\n          </form>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      v = ctx[:reposts?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div id=\"repost\">\n          <form class=\"hidden\" action=\"#{CGI.escapeHTML(ctx[:href_repost].to_s)}\" method=\"post\" name=\"post_to_universes_repost\" id=\"post_to_universes_repost\">\n\n#{      if v = ctx[:repost_menu]
        if v == true
          "<h4>#{CGI.escapeHTML(ctx[:username].to_s)}</h4>\n\n#{      if v = ctx[:clubs]
        if v == true
          "#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("<h4>#{CGI.escapeHTML(ctx[:username].to_s)}</h4>\n\n#{      if v = ctx[:clubs]
        if v == true
          "#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<h4>#{CGI.escapeHTML(ctx[:username].to_s)}</h4>\n\n#{      if v = ctx[:clubs]
        if v == true
          "#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:selected?]
        if v == true
          "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"box selected\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" checked=\"checked\" name=\"clubs[]\" id=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"selected_checkbox_141_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      v = ctx[:selected?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<div class=\"box\">\n             <input type=\"checkbox\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"clubs[]\" id=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\"/>\n             <label for=\"checkbox_518_#{CGI.escapeHTML(ctx[:_id].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</label>\n            </div>\n\n"
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}<div class=\"buttons\">\n            <div class=\"buttons\">\n             <button class=\"create\">Re-post.</button>\n            </div>\n           </div>\n          </form>\n          <div>\n            <a onclick=\"$('#post_to_universes_repost').removeClass('hidden'); $(this).parent('div').remove(); return false;\" href=\"#show-post_to_universes_repost\">Re-post.</a>\n          </div>\n         </div>\n\n"
      end
}"; ctx.pop; r }.join
        end
      end
}<div id=\"about\">\n          <h4>About this content:</h4>\n          <div>\n           <strong>Published on:</strong>\n           <br/>\n           <span>#{CGI.escapeHTML(ctx[:published_at].to_s)}</span>\n          </div>\n          <div>\n           <strong>Type:</strong>\n           <br/>\n           <span>#{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}.</span>\n          </div>\n          <div>\n           <strong>Publication:</strong>\n           <br/>\n           <a href=\"#{CGI.escapeHTML(ctx[:href_club].to_s)}\">#{CGI.escapeHTML(ctx[:club_title].to_s)}</a>\n          </div>\n          <div>\n           <strong>Section: </strong>\n           <br/>\n           <a href=\"#{CGI.escapeHTML(ctx[:href_section].to_s)}\">#{CGI.escapeHTML(ctx[:message_section].to_s)}</a>\n          </div>\n\n#{      if v = ctx[:has_parent?]
        if v == true
          "<div>\n           <strong>A reply to:</strong>\n           <br/>\n           <a href=\"#{CGI.escapeHTML(ctx[:href_parent].to_s)}\">this message</a>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div>\n           <strong>A reply to:</strong>\n           <br/>\n           <a href=\"#{CGI.escapeHTML(ctx[:href_parent].to_s)}\">this message</a>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div>\n           <strong>A reply to:</strong>\n           <br/>\n           <a href=\"#{CGI.escapeHTML(ctx[:href_parent].to_s)}\">this message</a>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:updator?]
        if v == true
          "<div>\n           <strong>Actions:</strong>\n           <br/>\n           <a href=\"#{CGI.escapeHTML(ctx[:href_edit].to_s)}\">Edit.</a>\n\n#{      if v = ctx[:updated?]
        if v == true
          "<br/>\n           <a href=\"#{CGI.escapeHTML(ctx[:href_log].to_s)}\">View changes.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<br/>\n           <a href=\"#{CGI.escapeHTML(ctx[:href_log].to_s)}\">View changes.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<br/>\n           <a href=\"#{CGI.escapeHTML(ctx[:href_log].to_s)}\">View changes.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div>\n           <strong>Actions:</strong>\n           <br/>\n           <a href=\"#{CGI.escapeHTML(ctx[:href_edit].to_s)}\">Edit.</a>\n\n#{      if v = ctx[:updated?]
        if v == true
          "<br/>\n           <a href=\"#{CGI.escapeHTML(ctx[:href_log].to_s)}\">View changes.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<br/>\n           <a href=\"#{CGI.escapeHTML(ctx[:href_log].to_s)}\">View changes.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<br/>\n           <a href=\"#{CGI.escapeHTML(ctx[:href_log].to_s)}\">View changes.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div>\n           <strong>Actions:</strong>\n           <br/>\n           <a href=\"#{CGI.escapeHTML(ctx[:href_edit].to_s)}\">Edit.</a>\n\n#{      if v = ctx[:updated?]
        if v == true
          "<br/>\n           <a href=\"#{CGI.escapeHTML(ctx[:href_log].to_s)}\">View changes.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<br/>\n           <a href=\"#{CGI.escapeHTML(ctx[:href_log].to_s)}\">View changes.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<br/>\n           <a href=\"#{CGI.escapeHTML(ctx[:href_log].to_s)}\">View changes.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n         <div id=\"replies\">\n          <div id=\"responds\">\n\n#{      if v = ctx[:suggests?]
        if v == true
          "<div id=\"suggests\">\n            <h4>#{CGI.escapeHTML(ctx[:suggestions_or_answers].to_s)}</h4>\n\n#{      if v = ctx[:suggests]
        if v == true
          "<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div id=\"suggests\">\n            <h4>#{CGI.escapeHTML(ctx[:suggestions_or_answers].to_s)}</h4>\n\n#{      if v = ctx[:suggests]
        if v == true
          "<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div id=\"suggests\">\n            <h4>#{CGI.escapeHTML(ctx[:suggestions_or_answers].to_s)}</h4>\n\n#{      if v = ctx[:suggests]
        if v == true
          "<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:critiques?]
        if v == true
          "<div id=\"critiques\">\n            <h4>Praise &amp; Criticism:</h4>\n\n#{      if v = ctx[:critiques]
        if v == true
          "<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div id=\"critiques\">\n            <h4>Praise &amp; Criticism:</h4>\n\n#{      if v = ctx[:critiques]
        if v == true
          "<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div id=\"critiques\">\n            <h4>Praise &amp; Criticism:</h4>\n\n#{      if v = ctx[:critiques]
        if v == true
          "<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:questions?]
        if v == true
          "<div id=\"questions\">\n            <h4>Questions:</h4>\n\n#{      if v = ctx[:questions]
        if v == true
          "<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div id=\"questions\">\n            <h4>Questions:</h4>\n\n#{      if v = ctx[:questions]
        if v == true
          "<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div id=\"questions\">\n            <h4>Questions:</h4>\n\n#{      if v = ctx[:questions]
        if v == true
          "<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n               <span>Accepted</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n               <span>Pending</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n               <span>Declined</span>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n              <div class=\"owner\">\n               <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n               <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n                <a onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \" href=\"#toggle_form_message_accept\">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n               <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n              </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n               <span> to this </span>\n               <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<div id=\"reply\">\n           <div id=\"guide\">\n            <h4>Stuff you can do:</h4>\n            <p>\n                Express negative feelings. Try to use\n              polite profanity, like meathead instead of \n              doo-doo head.\n              </p>\n           </div>\n            <div id=\"club_message_create\">\n             <form class=\"\" action=\"/messages/\" method=\"post\" name=\"form_club_message_create\" id=\"form_club_message_create\">\n              <h4>Publish a new:</h4>\n              <fieldset>\n               <select name=\"message_model\">\n                <option value=\"question\">Question</option>\n                <option value=\"cheer\">Praise &amp; Cheer</option>\n                <option value=\"jeer\">Criticize</option>\n                <option value=\"suggest\">Suggestion</option>\n               </select>\n              </fieldset>\n              <fieldset class=\"hidden\">\n               <input type=\"hidden\" value=\"\" name=\"body_images_cache\"/>\n               <input type=\"hidden\" value=\"#{CGI.escapeHTML(ctx[:url].to_s)}\" name=\"return_url\"/>\n               <input type=\"hidden\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"parent_message_id\"/>\n               <input type=\"hidden\" value=\"public\" name=\"privacy\"/>\n\n#{      if v = ctx[:single_username?]
        if v == true
          "<input type=\"hidden\" value=\"#{CGI.escapeHTML(ctx[:first_username].to_s)}\" name=\"username\"/>\n\n"
        elsif v.is_a?(Proc)
          v.call("<input type=\"hidden\" value=\"#{CGI.escapeHTML(ctx[:first_username].to_s)}\" name=\"username\"/>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<input type=\"hidden\" value=\"#{CGI.escapeHTML(ctx[:first_username].to_s)}\" name=\"username\"/>\n\n"; ctx.pop; r }.join
        end
      end
}</fieldset>\n              <fieldset>\n               <textarea name=\"body\"></textarea>\n              </fieldset>\n\n#{      if v = ctx[:multiple_usernames?]
        if v == true
          "<fieldset>\n               <label>Post as:</label>\n               <select name=\"owner_id\">\n\n#{      if v = ctx[:multiple_usernames]
        if v == true
          "<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n"
        elsif v.is_a?(Proc)
          v.call("<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n"; ctx.pop; r }.join
        end
      end
}</select>\n              </fieldset>\n\n"
        elsif v.is_a?(Proc)
          v.call("<fieldset>\n               <label>Post as:</label>\n               <select name=\"owner_id\">\n\n#{      if v = ctx[:multiple_usernames]
        if v == true
          "<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n"
        elsif v.is_a?(Proc)
          v.call("<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n"; ctx.pop; r }.join
        end
      end
}</select>\n              </fieldset>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<fieldset>\n               <label>Post as:</label>\n               <select name=\"owner_id\">\n\n#{      if v = ctx[:multiple_usernames]
        if v == true
          "<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n"
        elsif v.is_a?(Proc)
          v.call("<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n"; ctx.pop; r }.join
        end
      end
}</select>\n              </fieldset>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"buttons\">\n               <button class=\"create\">Save</button>\n              </div>\n             </form>\n            </div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div id=\"reply\">\n           <div id=\"guide\">\n            <h4>Stuff you can do:</h4>\n            <p>\n                Express negative feelings. Try to use\n              polite profanity, like meathead instead of \n              doo-doo head.\n              </p>\n           </div>\n            <div id=\"club_message_create\">\n             <form class=\"\" action=\"/messages/\" method=\"post\" name=\"form_club_message_create\" id=\"form_club_message_create\">\n              <h4>Publish a new:</h4>\n              <fieldset>\n               <select name=\"message_model\">\n                <option value=\"question\">Question</option>\n                <option value=\"cheer\">Praise &amp; Cheer</option>\n                <option value=\"jeer\">Criticize</option>\n                <option value=\"suggest\">Suggestion</option>\n               </select>\n              </fieldset>\n              <fieldset class=\"hidden\">\n               <input type=\"hidden\" value=\"\" name=\"body_images_cache\"/>\n               <input type=\"hidden\" value=\"#{CGI.escapeHTML(ctx[:url].to_s)}\" name=\"return_url\"/>\n               <input type=\"hidden\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"parent_message_id\"/>\n               <input type=\"hidden\" value=\"public\" name=\"privacy\"/>\n\n#{      if v = ctx[:single_username?]
        if v == true
          "<input type=\"hidden\" value=\"#{CGI.escapeHTML(ctx[:first_username].to_s)}\" name=\"username\"/>\n\n"
        elsif v.is_a?(Proc)
          v.call("<input type=\"hidden\" value=\"#{CGI.escapeHTML(ctx[:first_username].to_s)}\" name=\"username\"/>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<input type=\"hidden\" value=\"#{CGI.escapeHTML(ctx[:first_username].to_s)}\" name=\"username\"/>\n\n"; ctx.pop; r }.join
        end
      end
}</fieldset>\n              <fieldset>\n               <textarea name=\"body\"></textarea>\n              </fieldset>\n\n#{      if v = ctx[:multiple_usernames?]
        if v == true
          "<fieldset>\n               <label>Post as:</label>\n               <select name=\"owner_id\">\n\n#{      if v = ctx[:multiple_usernames]
        if v == true
          "<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n"
        elsif v.is_a?(Proc)
          v.call("<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n"; ctx.pop; r }.join
        end
      end
}</select>\n              </fieldset>\n\n"
        elsif v.is_a?(Proc)
          v.call("<fieldset>\n               <label>Post as:</label>\n               <select name=\"owner_id\">\n\n#{      if v = ctx[:multiple_usernames]
        if v == true
          "<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n"
        elsif v.is_a?(Proc)
          v.call("<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n"; ctx.pop; r }.join
        end
      end
}</select>\n              </fieldset>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<fieldset>\n               <label>Post as:</label>\n               <select name=\"owner_id\">\n\n#{      if v = ctx[:multiple_usernames]
        if v == true
          "<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n"
        elsif v.is_a?(Proc)
          v.call("<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n"; ctx.pop; r }.join
        end
      end
}</select>\n              </fieldset>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"buttons\">\n               <button class=\"create\">Save</button>\n              </div>\n             </form>\n            </div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div id=\"reply\">\n           <div id=\"guide\">\n            <h4>Stuff you can do:</h4>\n            <p>\n                Express negative feelings. Try to use\n              polite profanity, like meathead instead of \n              doo-doo head.\n              </p>\n           </div>\n            <div id=\"club_message_create\">\n             <form class=\"\" action=\"/messages/\" method=\"post\" name=\"form_club_message_create\" id=\"form_club_message_create\">\n              <h4>Publish a new:</h4>\n              <fieldset>\n               <select name=\"message_model\">\n                <option value=\"question\">Question</option>\n                <option value=\"cheer\">Praise &amp; Cheer</option>\n                <option value=\"jeer\">Criticize</option>\n                <option value=\"suggest\">Suggestion</option>\n               </select>\n              </fieldset>\n              <fieldset class=\"hidden\">\n               <input type=\"hidden\" value=\"\" name=\"body_images_cache\"/>\n               <input type=\"hidden\" value=\"#{CGI.escapeHTML(ctx[:url].to_s)}\" name=\"return_url\"/>\n               <input type=\"hidden\" value=\"#{CGI.escapeHTML(ctx[:_id].to_s)}\" name=\"parent_message_id\"/>\n               <input type=\"hidden\" value=\"public\" name=\"privacy\"/>\n\n#{      if v = ctx[:single_username?]
        if v == true
          "<input type=\"hidden\" value=\"#{CGI.escapeHTML(ctx[:first_username].to_s)}\" name=\"username\"/>\n\n"
        elsif v.is_a?(Proc)
          v.call("<input type=\"hidden\" value=\"#{CGI.escapeHTML(ctx[:first_username].to_s)}\" name=\"username\"/>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<input type=\"hidden\" value=\"#{CGI.escapeHTML(ctx[:first_username].to_s)}\" name=\"username\"/>\n\n"; ctx.pop; r }.join
        end
      end
}</fieldset>\n              <fieldset>\n               <textarea name=\"body\"></textarea>\n              </fieldset>\n\n#{      if v = ctx[:multiple_usernames?]
        if v == true
          "<fieldset>\n               <label>Post as:</label>\n               <select name=\"owner_id\">\n\n#{      if v = ctx[:multiple_usernames]
        if v == true
          "<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n"
        elsif v.is_a?(Proc)
          v.call("<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n"; ctx.pop; r }.join
        end
      end
}</select>\n              </fieldset>\n\n"
        elsif v.is_a?(Proc)
          v.call("<fieldset>\n               <label>Post as:</label>\n               <select name=\"owner_id\">\n\n#{      if v = ctx[:multiple_usernames]
        if v == true
          "<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n"
        elsif v.is_a?(Proc)
          v.call("<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n"; ctx.pop; r }.join
        end
      end
}</select>\n              </fieldset>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<fieldset>\n               <label>Post as:</label>\n               <select name=\"owner_id\">\n\n#{      if v = ctx[:multiple_usernames]
        if v == true
          "<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n"
        elsif v.is_a?(Proc)
          v.call("<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<option value=\"#{CGI.escapeHTML(ctx[:username].to_s)}\">#{CGI.escapeHTML(ctx[:username].to_s)}</option>\n\n"; ctx.pop; r }.join
        end
      end
}</select>\n              </fieldset>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"buttons\">\n               <button class=\"create\">Save</button>\n              </div>\n             </form>\n            </div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n        </div>\n       </div>\n      </div>\n     </div>\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<form class=\"\" action=\"#{CGI.escapeHTML(ctx[:href].to_s)}\" method=\"post\" name=\"toggle_form_message_accept\" id=\"toggle_form_message_accept\">\n        <fieldset class=\"hidden\">\n          <input type=\"hidden\" value=\"put\" name=\"_method\"/>\n         <input type=\"hidden\" value=\"0\" name=\"owner_accept\"/>\n         <input type=\"hidden\" value=\"#{CGI.escapeHTML(ctx[:editor_id].to_s)}\" name=\"editor_id\"/>\n        </fieldset>\n      </form>\n\n"
        elsif v.is_a?(Proc)
          v.call("<form class=\"\" action=\"#{CGI.escapeHTML(ctx[:href].to_s)}\" method=\"post\" name=\"toggle_form_message_accept\" id=\"toggle_form_message_accept\">\n        <fieldset class=\"hidden\">\n          <input type=\"hidden\" value=\"put\" name=\"_method\"/>\n         <input type=\"hidden\" value=\"0\" name=\"owner_accept\"/>\n         <input type=\"hidden\" value=\"#{CGI.escapeHTML(ctx[:editor_id].to_s)}\" name=\"editor_id\"/>\n        </fieldset>\n      </form>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<form class=\"\" action=\"#{CGI.escapeHTML(ctx[:href].to_s)}\" method=\"post\" name=\"toggle_form_message_accept\" id=\"toggle_form_message_accept\">\n        <fieldset class=\"hidden\">\n          <input type=\"hidden\" value=\"put\" name=\"_method\"/>\n         <input type=\"hidden\" value=\"0\" name=\"owner_accept\"/>\n         <input type=\"hidden\" value=\"#{CGI.escapeHTML(ctx[:editor_id].to_s)}\" name=\"editor_id\"/>\n        </fieldset>\n      </form>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n   <script type=\"text/javascript\" src=\"/js/vendor/jquery-1.4.2.min.js?1282199169\"></script>\n   <script type=\"text/javascript\" src=\"/js/pages/Megauni_Base.js?1282199169\"></script>\n\n#{      if v = ctx[:include_tracking?]
        if v == true
          "<script type=\"text/javascript\"> var mp_protocol = (('https:' == document.location.protocol) ? 'https://' : 'http://'); document.write(unescape('%3Cscript src=\"' + mp_protocol + 'api.mixpanel.com/site_media/js/api/mixpanel.js\" type=\"text/javascript\"%3E%3C/script%3E')); </script> \n        <script type=\"text/javascript\"> try {  var mpmetrics = new MixpanelLib('86bbd0a09d702cd9eef7ba93d59dca93'); } catch(err) { null_fn = function () {}; var mpmetrics = {  track: null_fn,  track_funnel: null_fn,  register: null_fn,  register_once: null_fn, register_funnel: null_fn }; } </script>\n        <script type=\"text/javascript\">mpmetrics.track(\"eveything\", { 'referer' : '#{CGI.escapeHTML(ctx[:http_referer].to_s)}' });</script>\n      \n"
        elsif v.is_a?(Proc)
          v.call("<script type=\"text/javascript\"> var mp_protocol = (('https:' == document.location.protocol) ? 'https://' : 'http://'); document.write(unescape('%3Cscript src=\"' + mp_protocol + 'api.mixpanel.com/site_media/js/api/mixpanel.js\" type=\"text/javascript\"%3E%3C/script%3E')); </script> \n        <script type=\"text/javascript\"> try {  var mpmetrics = new MixpanelLib('86bbd0a09d702cd9eef7ba93d59dca93'); } catch(err) { null_fn = function () {}; var mpmetrics = {  track: null_fn,  track_funnel: null_fn,  register: null_fn,  register_once: null_fn, register_funnel: null_fn }; } </script>\n        <script type=\"text/javascript\">mpmetrics.track(\"eveything\", { 'referer' : '#{CGI.escapeHTML(ctx[:http_referer].to_s)}' });</script>\n      \n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<script type=\"text/javascript\"> var mp_protocol = (('https:' == document.location.protocol) ? 'https://' : 'http://'); document.write(unescape('%3Cscript src=\"' + mp_protocol + 'api.mixpanel.com/site_media/js/api/mixpanel.js\" type=\"text/javascript\"%3E%3C/script%3E')); </script> \n        <script type=\"text/javascript\"> try {  var mpmetrics = new MixpanelLib('86bbd0a09d702cd9eef7ba93d59dca93'); } catch(err) { null_fn = function () {}; var mpmetrics = {  track: null_fn,  track_funnel: null_fn,  register: null_fn,  register_once: null_fn, register_funnel: null_fn }; } </script>\n        <script type=\"text/javascript\">mpmetrics.track(\"eveything\", { 'referer' : '#{CGI.escapeHTML(ctx[:http_referer].to_s)}' });</script>\n      \n"; ctx.pop; r }.join
        end
      end
}</body>\n </html>\n"