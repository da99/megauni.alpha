#!/usr/bin/env bash
# -*- bash -*-
#
#
action="$1"
shift

set -u -e -o pipefail

case "$action" in

  "help")
    echo ""
    echo "  $ megauni   start"
    echo "  $ megauni   stop"
    echo "  $ megauni   watch"
    echo ""
    exit 0
    ;;

  "start")
    # puma --config configs/puma.rb configs/config.ru
    dir="$(pwd)/tmp"
    RACK_ENV=production bundle exec passenger start --pid-file=$dir/4567.pid --log-file=$dir/4567.log --port 4567 --rackup configs/config.ru
    ;;

  "stop")
    echo "not done yet" 1>&2
    ;;

  "watch")
    echo "not done yet" 1>&2
    ;;

  *)
    echo "Unknown action: $action" 1>&2
    exit 1
    ;;

esac # === case $action



