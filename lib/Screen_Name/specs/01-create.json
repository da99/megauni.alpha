
[
  {"desc": "Screen_Name.create"},

  {
    "it"     : "creates record if data validates",
    "input"  : {"screen_name": "rand screen_name"},
    "output" : {"screen_name": "screen_name"}
  },

  {
    "it"     : "raises Invalid if screen name is empty",
    "input"  : {"screen_name": ""},
    "output" : {"error" : "screen_name: min: 4"}
  },

  {
    "it": "megauni is not allowed (despite case)",
    "input": {"screen_name": "meGauNi"},
    "output": {"error" : "screen_name: not available"}
  },

  {
    "it": "\"screen_name\" is not allowed (despite case)",
    "input": {"screen_name": "sCreen_NamE"},
    "output": {"error" : "screen_name: not available"}
  },

  {
    "it": "raises Invalid for duplicate name",
    "input": [
      {"screen_name" : "rand screen_name"},
      {"screen_name" : "screen_name"}
    ],
    "output": {"error": "screen_name: already taken"}
  },

  {
    "it": "updates :owner_id (of returned SN obj) to its :id if Customer is new and has no id",
    "input": {"screen_name": "rand screen_name"},
    "output": {"id" : "sn.data.id", "owner_id" : "sn.data.id"}
  }

]
