"<?xml version=\"1.0\" encoding=\"UTF-8\"?> <!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\">\n <html lang=\"en\" xml:lang=\"en\" xmlns=\"http://www.w3.org/1999/xhtml\">\n  <head>\n   <meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-Type\"/>\n   <meta http-equiv=\"Content-Script-Type\" content=\"text/javascript\"/>\n   <meta http-equiv=\"Content-Style-Type\" content=\"text/css\"/>\n   <meta http-equiv=\"Content-Language\" content=\"en-US\"/>\n   <meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"/>\n   <meta http-equiv=\"Content-Language\" content=\"en-US\"/>\n\n#{      v = ctx[:meta_cache?]
      if v.nil? || v == false || v.respond_to?(:empty?) && v.empty?
        "<meta http-equiv=\"expires\" content=\"Thu, 12 Mar 2004 12:34:12 GMT\"/>\n   <meta http-equiv=\"pragma\" content=\"no-cache\"/>\n\n"
      end
}#{      if v = ctx[:meta_menu]
        if v == true
          "<meta content=\"#{CGI.escapeHTML(ctx[:content].to_s)}\" name=\"#{CGI.escapeHTML(ctx[:name].to_s)}\"/>\n\n"
        elsif v.is_a?(Proc)
          v.call("<meta content=\"#{CGI.escapeHTML(ctx[:content].to_s)}\" name=\"#{CGI.escapeHTML(ctx[:name].to_s)}\"/>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<meta content=\"#{CGI.escapeHTML(ctx[:content].to_s)}\" name=\"#{CGI.escapeHTML(ctx[:name].to_s)}\"/>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:page]
        if v == true
          "<title>#{CGI.escapeHTML(ctx[:title].to_s)}</title>\n\n"
        elsif v.is_a?(Proc)
          v.call("<title>#{CGI.escapeHTML(ctx[:title].to_s)}</title>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<title>#{CGI.escapeHTML(ctx[:title].to_s)}</title>\n\n"; ctx.pop; r }.join
        end
      end
}<link type=\"image/x-icon\" rel=\"shortcut icon\" href=\"/favicon.ico\"/>\n\n#{      if v = ctx[:not_mobile_request?]
        if v == true
          "<link type=\"text/css\" rel=\"stylesheet\" href=\"#{CGI.escapeHTML(ctx[:css_file].to_s)}?time=1282095692\" media=\"screen\"/>\n\n"
        elsif v.is_a?(Proc)
          v.call("<link type=\"text/css\" rel=\"stylesheet\" href=\"#{CGI.escapeHTML(ctx[:css_file].to_s)}?time=1282095692\" media=\"screen\"/>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<link type=\"text/css\" rel=\"stylesheet\" href=\"#{CGI.escapeHTML(ctx[:css_file].to_s)}?time=1282095692\" media=\"screen\"/>\n\n"; ctx.pop; r }.join
        end
      end
}#{CGI.escapeHTML(ctx[:head_content].to_s)}\n\n  </head>\n  <body id=\"the_body\">\n\n#{      if v = ctx[:flash_msg?]
        if v == true
          "<div id=\"flash_msg\">\n\n#{      if v = ctx[:flash_success]
        if v == true
          "<div class=\"success\">\n      <h4>Success</h4>\n      <div class=\"msg\">#{CGI.escapeHTML(ctx[:msg].to_s)}</div>\n     </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"success\">\n      <h4>Success</h4>\n      <div class=\"msg\">#{CGI.escapeHTML(ctx[:msg].to_s)}</div>\n     </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"success\">\n      <h4>Success</h4>\n      <div class=\"msg\">#{CGI.escapeHTML(ctx[:msg].to_s)}</div>\n     </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:flash_errors]
        if v == true
          "<div class=\"errors\">\n      <h4>#{CGI.escapeHTML(ctx[:title].to_s)}</h4>\n      <div class=\"msg\">\n       <ul>\n\n#{      if v = ctx[:errors]
        if v == true
          "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n      </div>\n     </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"errors\">\n      <h4>#{CGI.escapeHTML(ctx[:title].to_s)}</h4>\n      <div class=\"msg\">\n       <ul>\n\n#{      if v = ctx[:errors]
        if v == true
          "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n      </div>\n     </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"errors\">\n      <h4>#{CGI.escapeHTML(ctx[:title].to_s)}</h4>\n      <div class=\"msg\">\n       <ul>\n\n#{      if v = ctx[:errors]
        if v == true
          "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n      </div>\n     </div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div id=\"flash_msg\">\n\n#{      if v = ctx[:flash_success]
        if v == true
          "<div class=\"success\">\n      <h4>Success</h4>\n      <div class=\"msg\">#{CGI.escapeHTML(ctx[:msg].to_s)}</div>\n     </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"success\">\n      <h4>Success</h4>\n      <div class=\"msg\">#{CGI.escapeHTML(ctx[:msg].to_s)}</div>\n     </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"success\">\n      <h4>Success</h4>\n      <div class=\"msg\">#{CGI.escapeHTML(ctx[:msg].to_s)}</div>\n     </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:flash_errors]
        if v == true
          "<div class=\"errors\">\n      <h4>#{CGI.escapeHTML(ctx[:title].to_s)}</h4>\n      <div class=\"msg\">\n       <ul>\n\n#{      if v = ctx[:errors]
        if v == true
          "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n      </div>\n     </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"errors\">\n      <h4>#{CGI.escapeHTML(ctx[:title].to_s)}</h4>\n      <div class=\"msg\">\n       <ul>\n\n#{      if v = ctx[:errors]
        if v == true
          "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n      </div>\n     </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"errors\">\n      <h4>#{CGI.escapeHTML(ctx[:title].to_s)}</h4>\n      <div class=\"msg\">\n       <ul>\n\n#{      if v = ctx[:errors]
        if v == true
          "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n      </div>\n     </div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div id=\"flash_msg\">\n\n#{      if v = ctx[:flash_success]
        if v == true
          "<div class=\"success\">\n      <h4>Success</h4>\n      <div class=\"msg\">#{CGI.escapeHTML(ctx[:msg].to_s)}</div>\n     </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"success\">\n      <h4>Success</h4>\n      <div class=\"msg\">#{CGI.escapeHTML(ctx[:msg].to_s)}</div>\n     </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"success\">\n      <h4>Success</h4>\n      <div class=\"msg\">#{CGI.escapeHTML(ctx[:msg].to_s)}</div>\n     </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:flash_errors]
        if v == true
          "<div class=\"errors\">\n      <h4>#{CGI.escapeHTML(ctx[:title].to_s)}</h4>\n      <div class=\"msg\">\n       <ul>\n\n#{      if v = ctx[:errors]
        if v == true
          "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n      </div>\n     </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"errors\">\n      <h4>#{CGI.escapeHTML(ctx[:title].to_s)}</h4>\n      <div class=\"msg\">\n       <ul>\n\n#{      if v = ctx[:errors]
        if v == true
          "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n      </div>\n     </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"errors\">\n      <h4>#{CGI.escapeHTML(ctx[:title].to_s)}</h4>\n      <div class=\"msg\">\n       <ul>\n\n#{      if v = ctx[:errors]
        if v == true
          "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>#{CGI.escapeHTML(ctx[:err].to_s)}</li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n      </div>\n     </div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}<div id=\"the_content\">\n     <div id=\"content\">\n      <p>\n       <span class=\"not_found\">Club not found:</span>\n       <span class=\"filename\">#{CGI.escapeHTML(ctx[:club_filename].to_s)}</span>\n      </p>\n\n#{      if v = ctx[:clubs]
        if v == true
          "<div class=\"club\">\n        <h4>\n         <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</a>\n        </h4>\n\n#{      if v = ctx[:teaser]
        if v == true
          "<div class=\"teaser\">#{CGI.escapeHTML(ctx[:teaser].to_s)}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"teaser\">#{CGI.escapeHTML(ctx[:teaser].to_s)}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"teaser\">#{CGI.escapeHTML(ctx[:teaser].to_s)}</div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:messages]
        if v == true
          "<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n          <div class=\"owner\">\n           <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n          <div class=\"owner\">\n           <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n          <div class=\"owner\">\n           <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"club\">\n        <h4>\n         <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</a>\n        </h4>\n\n#{      if v = ctx[:teaser]
        if v == true
          "<div class=\"teaser\">#{CGI.escapeHTML(ctx[:teaser].to_s)}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"teaser\">#{CGI.escapeHTML(ctx[:teaser].to_s)}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"teaser\">#{CGI.escapeHTML(ctx[:teaser].to_s)}</div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:messages]
        if v == true
          "<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n          <div class=\"owner\">\n           <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n          <div class=\"owner\">\n           <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n          <div class=\"owner\">\n           <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"club\">\n        <h4>\n         <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</a>\n        </h4>\n\n#{      if v = ctx[:teaser]
        if v == true
          "<div class=\"teaser\">#{CGI.escapeHTML(ctx[:teaser].to_s)}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"teaser\">#{CGI.escapeHTML(ctx[:teaser].to_s)}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"teaser\">#{CGI.escapeHTML(ctx[:teaser].to_s)}</div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:messages]
        if v == true
          "<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n          <div class=\"owner\">\n           <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n          <div class=\"owner\">\n           <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"message\">\n\n#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:accepted?]
        if v == true
          "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"accepted\">\n           <span>Accepted</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"pending\">\n           <span>Pending</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:declined?]
        if v == true
          "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"declined\">\n           <span>Declined</span>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:title]
        if v == true
          "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<strong class=\"title\">#{CGI.escapeHTML(ctx[:title].to_s)}</strong>\n\n"; ctx.pop; r }.join
        end
      end
}<div class=\"body\">#{ctx[:compiled_body]}</div>\n          <div class=\"owner\">\n           <span>Author: </span>\n\n#{      if v = ctx[:owner?]
        if v == true
          "<span>you</span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span>you</span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span>you</span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_owner?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:owner_href].to_s)}\">#{CGI.escapeHTML(ctx[:owner_username].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n#{      if v = ctx[:has_parent_message?]
        if v == true
          "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:suggest?]
        if v == true
          "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:parent_message_owner?]
        if v == true
          "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"toggle_suggest\">\n           <div>\n\n#{      if v = ctx[:not_accepted?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Accept</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:pending?]
        if v == true
          "<span> or </span>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_declined?]
        if v == true
          "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(-1);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">Decline</a>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_pending?]
        if v == true
          "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<span> or </span>\n            <a href=\"#toggle_form_message_accept\" onclick=\"\n          $(this).parent('div').addClass('loading');\n          $('#toggle_form_message_accept input[name=owner_accept]').val(0);\n          $('#toggle_form_message_accept').submit();\n          return false;\n        \">I don't know.</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:has_parent_message?]
        if v == true
          "<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n           <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">reply</a>\n          </div>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:parent_message?]
        if v == true
          "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"
        elsif v.is_a?(Proc)
          v.call("<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<div class=\"permalink\">\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">Reply</a>\n           <span> to this </span>\n           <strong> #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)} </strong>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"
        elsif v.is_a?(Proc)
          v.call("<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">link to this #{CGI.escapeHTML(ctx[:message_model_in_english].to_s)}</a>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n      <div id=\"nav_bar\">\n       <div id=\"logo\">\n        <p class=\"english\">\n         <a href=\"/\">#{CGI.escapeHTML(ctx[:site_title].to_s)}</a>\n        </p>\n        <p class=\"divider site_tag_line\">\n~~ ? ! @ ~~        </p>\n       </div>\n       <ul class=\"help\">\n         <li>\n          <a href=\"/help/\"> Help </a>\n         </li>\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<li>\n          <a href=\"/log-out/\"> Log-out </a>\n         </li>\n         <li>\n          <a href=\"/lifes/\"> [ My Lifes ] </a>\n         </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>\n          <a href=\"/log-out/\"> Log-out </a>\n         </li>\n         <li>\n          <a href=\"/lifes/\"> [ My Lifes ] </a>\n         </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>\n          <a href=\"/log-out/\"> Log-out </a>\n         </li>\n         <li>\n          <a href=\"/lifes/\"> [ My Lifes ] </a>\n         </li>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_logged_in?]
        if v == true
          "<li>\n          <a href=\"/log-in/\"> Log-in </a>\n         </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>\n          <a href=\"/log-in/\"> Log-in </a>\n         </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>\n          <a href=\"/log-in/\"> Log-in </a>\n         </li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "#{      if v = ctx[:not_mini_nav_bar?]
        if v == true
          "<p class=\"divider\">Lives</p>\n\n"
        elsif v.is_a?(Proc)
          v.call("<p class=\"divider\">Lives</p>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<p class=\"divider\">Lives</p>\n\n"; ctx.pop; r }.join
        end
      end
}<ul class=\"lives\">\n\n#{      if v = ctx[:username_nav]
        if v == true
          "#{      if v = ctx[:selected?]
        if v == true
          "<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_selected?]
        if v == true
          "<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:selected?]
        if v == true
          "<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_selected?]
        if v == true
          "<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:selected?]
        if v == true
          "<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_selected?]
        if v == true
          "<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_mini_nav_bar?]
        if v == true
          "<li>\n          <a href=\"/lifes/\"> [ Create ] </a>\n         </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>\n          <a href=\"/lifes/\"> [ Create ] </a>\n         </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>\n          <a href=\"/lifes/\"> [ Create ] </a>\n         </li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n\n"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:not_mini_nav_bar?]
        if v == true
          "<p class=\"divider\">Lives</p>\n\n"
        elsif v.is_a?(Proc)
          v.call("<p class=\"divider\">Lives</p>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<p class=\"divider\">Lives</p>\n\n"; ctx.pop; r }.join
        end
      end
}<ul class=\"lives\">\n\n#{      if v = ctx[:username_nav]
        if v == true
          "#{      if v = ctx[:selected?]
        if v == true
          "<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_selected?]
        if v == true
          "<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:selected?]
        if v == true
          "<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_selected?]
        if v == true
          "<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:selected?]
        if v == true
          "<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_selected?]
        if v == true
          "<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_mini_nav_bar?]
        if v == true
          "<li>\n          <a href=\"/lifes/\"> [ Create ] </a>\n         </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>\n          <a href=\"/lifes/\"> [ Create ] </a>\n         </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>\n          <a href=\"/lifes/\"> [ Create ] </a>\n         </li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:not_mini_nav_bar?]
        if v == true
          "<p class=\"divider\">Lives</p>\n\n"
        elsif v.is_a?(Proc)
          v.call("<p class=\"divider\">Lives</p>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<p class=\"divider\">Lives</p>\n\n"; ctx.pop; r }.join
        end
      end
}<ul class=\"lives\">\n\n#{      if v = ctx[:username_nav]
        if v == true
          "#{      if v = ctx[:selected?]
        if v == true
          "<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_selected?]
        if v == true
          "<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n"; ctx.pop; r }.join
        end
      end
}"
        elsif v.is_a?(Proc)
          v.call("#{      if v = ctx[:selected?]
        if v == true
          "<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_selected?]
        if v == true
          "<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n"; ctx.pop; r }.join
        end
      end
}")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "#{      if v = ctx[:selected?]
        if v == true
          "<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li class=\"selected\">\n          <span>&lt; #{CGI.escapeHTML(ctx[:username].to_s)} &gt;</span>\n         </li>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_selected?]
        if v == true
          "<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>\n          <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\"> #{CGI.escapeHTML(ctx[:username].to_s)} </a>\n         </li>\n\n"; ctx.pop; r }.join
        end
      end
}"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:not_mini_nav_bar?]
        if v == true
          "<li>\n          <a href=\"/lifes/\"> [ Create ] </a>\n         </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>\n          <a href=\"/lifes/\"> [ Create ] </a>\n         </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>\n          <a href=\"/lifes/\"> [ Create ] </a>\n         </li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n\n"; ctx.pop; r }.join
        end
      end
}<p class=\"divider\">Clubs</p>\n       <ul class=\"clubs\">\n         <li>\n          <a href=\"/clubs/\"> [ View All ] </a>\n         </li>\n\n#{      if v = ctx[:logged_in?]
        if v == true
          ""
        elsif v.is_a?(Proc)
          v.call("")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = ""; ctx.pop; r }.join
        end
      end
}</ul>\n\n#{      if v = ctx[:logged_in?]
        if v == true
          "<p class=\"divider\">Your Clubs</p>\n       <ul class=\"your_clubs\">\n         <li>\n          <a href=\"/club-create/\"> [ Create ] </a>\n         </li>\n\n#{      if v = ctx[:your_clubs]
        if v == true
          "<li>\n         <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</a>\n        </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>\n         <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</a>\n        </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>\n         <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</a>\n        </li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n\n"
        elsif v.is_a?(Proc)
          v.call("<p class=\"divider\">Your Clubs</p>\n       <ul class=\"your_clubs\">\n         <li>\n          <a href=\"/club-create/\"> [ Create ] </a>\n         </li>\n\n#{      if v = ctx[:your_clubs]
        if v == true
          "<li>\n         <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</a>\n        </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>\n         <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</a>\n        </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>\n         <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</a>\n        </li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<p class=\"divider\">Your Clubs</p>\n       <ul class=\"your_clubs\">\n         <li>\n          <a href=\"/club-create/\"> [ Create ] </a>\n         </li>\n\n#{      if v = ctx[:your_clubs]
        if v == true
          "<li>\n         <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</a>\n        </li>\n\n"
        elsif v.is_a?(Proc)
          v.call("<li>\n         <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</a>\n        </li>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<li>\n         <a href=\"#{CGI.escapeHTML(ctx[:href].to_s)}\">#{CGI.escapeHTML(ctx[:title].to_s)}</a>\n        </li>\n\n"; ctx.pop; r }.join
        end
      end
}</ul>\n\n"; ctx.pop; r }.join
        end
      end
}#{      if v = ctx[:mini_nav_bar?]
        if v == true
          "<ul>\n        <li>\n          <li>\n           <a href=\"/clubs/\"> Clubs </a>\n          </li>\n        </li>\n       </ul>\n\n"
        elsif v.is_a?(Proc)
          v.call("<ul>\n        <li>\n          <li>\n           <a href=\"/clubs/\"> Clubs </a>\n          </li>\n        </li>\n       </ul>\n\n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<ul>\n        <li>\n          <li>\n           <a href=\"/clubs/\"> Clubs </a>\n          </li>\n        </li>\n       </ul>\n\n"; ctx.pop; r }.join
        end
      end
}</div>\n   </div>\n\n#{      if v = ctx[:include_tracking?]
        if v == true
          "<script type=\"text/javascript\"> var mp_protocol = (('https:' == document.location.protocol) ? 'https://' : 'http://'); document.write(unescape('%3Cscript src=\"' + mp_protocol + 'api.mixpanel.com/site_media/js/api/mixpanel.js\" type=\"text/javascript\"%3E%3C/script%3E')); </script> \n        <script type=\"text/javascript\"> try {  var mpmetrics = new MixpanelLib('86bbd0a09d702cd9eef7ba93d59dca93'); } catch(err) { null_fn = function () {}; var mpmetrics = {  track: null_fn,  track_funnel: null_fn,  register: null_fn,  register_once: null_fn, register_funnel: null_fn }; } </script>\n        <script type=\"text/javascript\">mpmetrics.track(\"eveything\", { 'referer' : '#{CGI.escapeHTML(ctx[:http_referer].to_s)}' });</script>\n      \n"
        elsif v.is_a?(Proc)
          v.call("<script type=\"text/javascript\"> var mp_protocol = (('https:' == document.location.protocol) ? 'https://' : 'http://'); document.write(unescape('%3Cscript src=\"' + mp_protocol + 'api.mixpanel.com/site_media/js/api/mixpanel.js\" type=\"text/javascript\"%3E%3C/script%3E')); </script> \n        <script type=\"text/javascript\"> try {  var mpmetrics = new MixpanelLib('86bbd0a09d702cd9eef7ba93d59dca93'); } catch(err) { null_fn = function () {}; var mpmetrics = {  track: null_fn,  track_funnel: null_fn,  register: null_fn,  register_once: null_fn, register_funnel: null_fn }; } </script>\n        <script type=\"text/javascript\">mpmetrics.track(\"eveything\", { 'referer' : '#{CGI.escapeHTML(ctx[:http_referer].to_s)}' });</script>\n      \n")
        else
          v = [v] unless v.is_a?(Array) # shortcut when passed non-array
          v.map { |h| ctx.push(h); r = "<script type=\"text/javascript\"> var mp_protocol = (('https:' == document.location.protocol) ? 'https://' : 'http://'); document.write(unescape('%3Cscript src=\"' + mp_protocol + 'api.mixpanel.com/site_media/js/api/mixpanel.js\" type=\"text/javascript\"%3E%3C/script%3E')); </script> \n        <script type=\"text/javascript\"> try {  var mpmetrics = new MixpanelLib('86bbd0a09d702cd9eef7ba93d59dca93'); } catch(err) { null_fn = function () {}; var mpmetrics = {  track: null_fn,  track_funnel: null_fn,  register: null_fn,  register_once: null_fn, register_funnel: null_fn }; } </script>\n        <script type=\"text/javascript\">mpmetrics.track(\"eveything\", { 'referer' : '#{CGI.escapeHTML(ctx[:http_referer].to_s)}' });</script>\n      \n"; ctx.pop; r }.join
        end
      end
}</body>\n </html>\n"