include "../../App/layout.blade"

prepend styles
  call css("/Screen_Name/me.css")
  call css("/Folder/show.css")

append scripts
  call script("/Page/show.js")

append templates
  div.item
    div {BODY}
  div.item.with_title
    h3 {TITLE}
    div {BODY}

append content


  div#Me
    h3#The_Title #{title}
    div.content
      | From folder:
      a(href="/me/#{screen_name}/folder/#{folder_num}") #{folder_title}

  div.items#Items
    div.content
      - if (is_update_able)
        div.edit_this
          div.edit#Edit_This_Page
            div.success_msg#Success_Msg Your page has been updated.
            a(href="#Update_Page") Edit This Page.
          form#Update_Page(action="/me/#{screen_name}/folder/#{folder_num}/page/#{page_num}", method="POST")
            div.fields
              div.field.title
                label Title:
                input(type="text", name="title", value="#{title}")
              div.field.body
                label Body:
                textarea#The_Body(name="body") #{page_body}
            div.buttons
              input(type="hidden", name="_method", value="PUT")
              button.submit Save
              a.cancel(href="#cancel") Cancel

      div.list
        div.item#The_Page_Content
          |! !{page_body_html}

  div#Create
    div.create Add:
    div.link.active
      a(href="#Page") More Text
  div#Creates
    div.create#Page
      form(action="/me/#{screen_name}/folder/#{folder_num}/page/#{page_num}/create/text", method="POST")
        div.fields
          div.field.title
            label Title:
            span.value (optional)
            div.ele
              input.field(type='text', name="title", value="")
          div.field.content
            label Text:
            div.ele
              textarea(name="body")
        div.buttons
          input(type="hidden", name="stuff_type", value="page")
          button.submit Create






